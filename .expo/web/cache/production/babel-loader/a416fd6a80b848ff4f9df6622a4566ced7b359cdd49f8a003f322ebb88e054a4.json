{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import{Input,Button,Text}from\"@rneui/themed\";import*as React from\"react\";import{useState}from\"react\";import AsyncStorage from\"@react-native-async-storage/async-storage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles=StyleSheet.create({container:{flex:1,backgroundColor:\"#fff\",alignItems:\"center\",justifyContent:\"center\"},buttonContainer:{width:\"80%\",marginVertical:10},button:{width:\"100%\",textAlign:\"center\"}});var LoginScreen=function LoginScreen(_ref){var navigation=_ref.navigation;var loginKey=\"loginData\";var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleLogin=function(){var _ref2=_asyncToGenerator(function*(){var enteredUsername=username;var enteredPassword=password;var loginData=JSON.parse(yield AsyncStorage.getItem(loginKey));var user=loginData.find(function(user){return user.username===enteredUsername&&user.password===enteredPassword;});if(user){console.log(\"Login successful.\");navigation.navigate(\"Home\",{email:user.email,firstName:user.firstName,lastName:user.lastName,password:user.password,phone:user.phone,username:user.username,zip:user.zip});}else{console.log(\"Incorrect username or password.\");}});return function handleLogin(){return _ref2.apply(this,arguments);};}();return _jsxs(View,{style:[styles.container],children:[_jsx(\"h1\",{children:\"My To-Do App\"}),_jsx(Input,{onChangeText:setUsername,value:username,testID:\"login-username\",placeholder:\"Username...\"}),_jsx(Input,{onChangeText:setPassword,value:password,testID:\"login-password\",placeholder:\"Password...\"}),_jsx(View,{style:styles.buttonContainer,children:_jsx(Button,{style:styles.button,title:\"Login\",testID:\"login-button\",onPress:handleLogin})}),_jsx(Text,{children:\"Don't already have an account?\"}),_jsx(View,{style:styles.buttonContainer,children:_jsx(Button,{style:styles.button,title:\"Register\",testID:\"login-register\",onPress:function onPress(){return navigation.push(\"Registration\");}})})]});};export default LoginScreen;","map":{"version":3,"names":["Input","Button","Text","React","useState","AsyncStorage","jsx","_jsx","jsxs","_jsxs","styles","StyleSheet","create","container","flex","backgroundColor","alignItems","justifyContent","buttonContainer","width","marginVertical","button","textAlign","LoginScreen","_ref","navigation","loginKey","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","handleLogin","_ref2","_asyncToGenerator","enteredUsername","enteredPassword","loginData","JSON","parse","getItem","user","find","console","log","navigate","email","firstName","lastName","phone","zip","apply","arguments","View","style","children","onChangeText","value","testID","placeholder","title","onPress","push"],"sources":["/Users/lillyallgood/Todo-App-1/LoginScreen.js"],"sourcesContent":["import { StyleSheet, View } from \"react-native\";\nimport { Input, Button, Text } from \"@rneui/themed\";\nimport * as React from \"react\";\nimport { useState } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  buttonContainer: {\n    width: \"80%\",\n    marginVertical: 10,\n  },\n  button: {\n    width: \"100%\",\n    textAlign: \"center\",\n  },\n});\n\nconst LoginScreen = ({ navigation }) => {\n  // define key for login data:\n  const loginKey = \"loginData\";\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  // use handleLogin to authenticate the user\n  const handleLogin = async () => {\n    const enteredUsername = username;\n    const enteredPassword = password;\n    // Get existing login data from storage\n    const loginData = JSON.parse(await AsyncStorage.getItem(loginKey));\n    // validation:\n    const user = loginData.find(\n      (user) =>\n        user.username === enteredUsername && user.password === enteredPassword\n    );\n\n    if (user) {\n      console.log(\"Login successful.\");\n      navigation.navigate(\"Home\", {\n        email: user.email,\n        firstName: user.firstName,\n        lastName: user.lastName,\n        password: user.password,\n        phone: user.phone,\n        username: user.username,\n        zip: user.zip,\n      });\n    } else {\n      console.log(\"Incorrect username or password.\");\n    }\n  };\n\n  return (\n    <View style={[styles.container]}>\n      <h1>My To-Do App</h1>\n      <Input\n        onChangeText={setUsername}\n        value={username}\n        testID=\"login-username\"\n        placeholder=\"Username...\"\n      ></Input>\n      <Input\n        onChangeText={setPassword}\n        value={password}\n        testID=\"login-password\"\n        placeholder=\"Password...\"\n      ></Input>\n      <View style={styles.buttonContainer}>\n        <Button\n          style={styles.button}\n          title=\"Login\"\n          testID=\"login-button\"\n          onPress={handleLogin}\n        />\n      </View>\n      <Text>Don't already have an account?</Text>\n      <View style={styles.buttonContainer}>\n        <Button\n          style={styles.button}\n          title=\"Register\"\n          testID=\"login-register\"\n          onPress={() => navigation.push(\"Registration\")}\n        />\n      </View>\n    </View>\n  );\n};\n\nexport default LoginScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}